alias yarn='corepack yarn'
alias yarnpkg='corepack yarnpkg'
alias pnpm='corepack pnpm'
alias pnpx='corepack pnpx'

export PATH="/Users/gotoharuka/.deno/bin:$PATH"
export PATH="$(python3 -m site --user-base)/bin:$PATH"

# 新しくコマンドをインストールしたときに自動的に認識させる
zstyle ":completion:*:commands" rehash 1

# 補完
autoload -U compinit
compinit

# 色を使用
autoload -Uz colors
colors

# aws入れてないから消す
# source /usr/local/bin/aws_zsh_completer.sh

#
# zshの細かい設定系start
#

# Ctrl+sのロック, Ctrl+qのロック解除を無効にする
setopt no_flow_control

# 他のターミナルとヒストリーを共有
setopt share_history

# cdコマンドを省略して、ディレクトリ名のみの入力で移動
setopt auto_cd

# 自動でpushdを実行
# pushdはディレクトリを記憶してくれるやつ
# これオンにしといてcdrで移動できるようにしておけばディレクトリ移動が楽になる
setopt auto_pushd

# pushdから重複を削除
setopt pushd_ignore_dups

# cdrコマンドを有効 ログアウトしても有効なディレクトリ履歴
# cdr タブでリストを表示
autoload -Uz add-zsh-hook
autoload -Uz chpwd_recent_dirs cdr
add-zsh-hook chpwd chpwd_recent_dirs

# ヒストリーに重複を表示しない
setopt histignorealldups

# ヒストリーの保存量設定
HISTFILE=~/.zsh_history
HISTSIZE=10000
SAVEHIST=10000

# fzfを使ったコマンド履歴検索
bindkey "^r" fzf-history-widget

#
# end
#

# goのpath通す
export PATH=$PATH:/usr/local/go/bin

# pnpm
export PNPM_HOME="/Users/gotoharuka/Library/pnpm"
case ":$PATH:" in
*":$PNPM_HOME:"*) ;;
*) export PATH="$PNPM_HOME:$PATH" ;;
esac
# pnpm end

# config asdf
[ -f "$(brew --prefix asdf)/libexec/asdf.sh" ] &&
  . "$(brew --prefix asdf)/libexec/asdf.sh"

# bun completions
[ -s "/Users/gotoharuka/.bun/_bun" ] && source "/Users/gotoharuka/.bun/_bun"

# bun
export BUN_INSTALL="$HOME/.bun"
export PATH="$BUN_INSTALL/bin:$PATH"

# GPG
export GPG_TTY=$(tty)

# alias
alias gs="git branch | fzf | xargs git switch"

# fuzzy finder
# 色々できるみたい
# https://momozo.tech/2021/03/10/fzf%E3%81%A7zsh%E3%82%BF%E3%83%BC%E3%83%9F%E3%83%8A%E3%83%AB%E4%BD%9C%E6%A5%AD%E3%82%92%E5%8A%B9%E7%8E%87%E5%8C%96/
# brewで入れるか、gitで入れれる
# これは多分そのfzfを読み込むコードかな？
[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh
[ -f ~/.zplug.sh ] && source ~/.zplug.sh
